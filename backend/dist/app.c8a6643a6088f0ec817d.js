"use strict";(()=>{var e={id:143,ids:[143]};e.modules={950:(e,s,r)=>{const o=require("express");var t=r.n(o);const n=require("cookie-parser");var i=r.n(n);const a=require("morgan");var c=r.n(a);const l=require("helmet");var d=r.n(l);const u=require("nodemailer"),p=(0,o.Router)(),v=()=>r.e(818).then(r.t.bind(r,735,23));p.get("/",((e,s)=>{s.send("<h1>Welcome to Jay's Portfolio Backend!</h1>")})),p.post("/contactme",(async(e,s)=>{const r=e.body,o=(0,u.createTransport)({service:"gmail",auth:v}),t={from:r.email,to:"bienvenido.falconiii@gmail.com",subject:`Message from ${r.name} <${r.email}>: Book Portfolio Message`,text:r.message};try{const e=await o.sendMail(t);if(r.sendCopy){const n=await o.sendMail({...t,to:r.email,subject:`[Copy] Message from ${r.name} <${r.email}>: Book Portfolio Message`});return void s.json({data:e,copy:n})}s.json(e)}catch(e){return void s.send(e)}}));const m=p;let f=t()();f.use("/",((e,s,r)=>{s.setHeader("Access-Control-Allow-Origin","*"),s.setHeader("Access-Control-Allow-Methods","GET,POST"),s.setHeader("Access-Control-Allow-Headers","X-Requested-With,content-type"),s.setHeader("Access-Control-Allow-Credentials",!0),r()})),f.use(t().json()),f.use(t().urlencoded({extended:!1})),f.use(t().static("public")),f.use(d()()),f.use(c()("dev")),f.use(i()()),f.use("/",m);const g=f,h=require("http");var y=r(974)("init:server"),q=function(e){var s=parseInt(e,10);return isNaN(s)?e:s>=0&&s}(process.env.PORT||"3000");g.set("port",q);var A=(0,h.createServer)(g);A.listen(q),A.on("error",(function(e){if("listen"!==e.syscall)throw e;var s="string"==typeof q?"Pipe "+q:"Port "+q;switch(e.code){case"EACCES":console.error(s+" requires elevated privileges"),process.exit(1);break;case"EADDRINUSE":console.error(s+" is already in use"),process.exit(1);break;default:throw e}})),A.on("listening",(function(){var e=A.address(),s="string"==typeof e?"pipe "+e:"port "+e.port;y("Listening on "+s)}))},974:e=>{e.exports=require("debug")}};var s=require("./runtime.2d353ea36c32ce04f6bd.js");s.C(e),s(s.s=950)})();